Changes in 2.2.0
================

For a complete list of issues that have been solved for 2.2.0, 
see http://tinyurl.com/t2-2-0-fixes or
http://www.mygrid.org.uk/dev/issues/secure/IssueNavigator.jspa?mode=hide&requestId=10175


General user interface
----------------------
Workflows with services that are offline/unavailable, or which plugin is
not installed, can now be opened and edited. (T2-1231, T2-1411)

Unavailable services are shown faded in the workflow. (T2-1354)

The dialogue for adding nested workflows did not always disappear
(T2-1261)

Workbench configuration preference tidied up (T2-1463)

The preferences window did not always appear on a restricted (ie.
WiFi) network which present HTML login pages to any URL. (T2-1409)

New menu item: Advanced->Show log folder (T2-1273)

User registration form records the "Purpose" field correctly. (T2-1304)


Workflow engine
---------------
New ability to pause and cancel a running workflow (T2-414).

Provenance handles empty lists correctly. (T2-1019)

Provenance supports workflows and services which has an
input port with the same name as an output port. (T2-1051)

Provenance records and shows start/stop/average execution times for
workflow, services and service iterations. (T2-875)

New "executeworkflow" command line tool (T2-316)

taverna.sh and taverna-debug.bat now handles symlinks to the Taverna
installation. (T2-1406)



Workflow design
---------------

Validation Report warns on potential errors in workflow, and
suggests possible solutions like editing the List Handling. (T2-1238)

A full validation is performed before running a workflow, which
will attempt to connect to external services in the workflow - giving an
early warning for instance if a service is not available, or if a
beanshell script contains error.

Ability to configure retries and threads. (T2-416)

Right-click menu to configure looping, retries and threads.

Configure Looping dialogue layout modified (T2-1366)

Configure Looping dialogue simplified (T2-824, T2-1349)

Workflow output port was not always selected correctly. (T2-1288)

Menu for Insert->Constant value modified (T2-1325)


Running workflows
-----------------
Run Workflow dialogue is no longer modal, allowing one dialogue per
workflow at the same time (T2-1221)

Run Workflow dialogue warns if the workflow has potential problems. (T2-1363)

Unconnected input ports are no longer shown in Run Workflow. (T2-1285)

Run Workflow dialogue could appear twice for same workflow if
double-clicking Run. (T2-863)

Run Workflow shows the filename or name of workflow (T2-1284)

"Load previous values" button in the Run Dialog should remember the last
used folder.  (T2-1252) 

Exiting Taverna while a workflow is running will warn the user, asking
to Cancel active runs. (T2-1426)


Results
-------
New Progress Report shows a table of running services in workflow and
nested workflows. Table shows status, queued iterations, iterations
finished, failed iterations, start and stop times, and average
invocation time. (T2-1213)





T2-1248 	Workbench - Renderers 	Text renderer scrolls to bottom 
T2-1263 	Workbench - Renderers 	URL renderer does not work as expected 
T2-1313 	Workbench - Renderers 	HTML renderer does not work as a proper HTML renderer where you can follow hyperlinks etc. 
T2-1317 	Workbench - Renderers 	TIFF renderer is needed 
T2-1320 	Workbench - Renderers 	Rtf renderer renders text as html 
T2-1369 	Workbench - Renderers 	SeqVista messes up look and feel 
T2-1469 	Workbench - Provenance previous runs 	Previous Runs of nested workflows wrongly appear if nested workflow was also individually run 
T2-553 	Workbench - Provenance previous runs 	Provenance does not distinguish between lists and iterations 

T2-1279 	Workbench - Results panel 	Value-too-large dialogue still renders if pressing Escape in Windows 
T2-1324 	Workbench - Results panel 	"Save values" should say "Save all values" 
T2-1413 	Workbench - Results panel 	Error count for processor inside nested workflow is wrong 
T2-1414 	Workbench - Results panel 	No error count on a nested workflow 
T2-1416 	Workbench - Results panel 	No indication of which invocation failed 
T2-1427 	Workbench - Results panel 	Need to distinguish between invocations that error bounced and those that threw an error 
T2-1459 	Refinement	Workbench - Results panel 	Clicking workflow output port in result graph should select output port results 
T2-1460 	Workbench - Results panel 	Intermediate values must allow filtering for errors 
T2-1461 	Workbench - Results panel 	Workflow results must be filterable 
T2-1280 	Workbench - Results panel Workbench - Workflow runs panel 	Binary data not always loaded/saved correctly 



X service
---------
T2-1287 	Activity - Beanshell 	Script should show line numbers 
T2-1375 	Activity - Beanshell 	Beanshell health checker needs tweaking 
T2-1387 	Activity - Beanshell Activity - RShell 	Ports should start at 1 
T2-1093 	Activity - Biomart 	Switch BioMart streaming back on 
T2-674 	Activity - Biomart Activity - Biomoby Activity - Soaplab Activity - WSDL and XML splitter 	Hardcoded default locations 
T2-1314 	Activity - Nested workflow 	Import workflow window pops up 2 file chooser dialogs 
T2-1315 	Activity - Nested workflow 	Import workflow window does not display location of the "Already opened window" nicely 
T2-1376 	Activity - Unrecognized 	Unrecognized activity must be implemented 
T2-1470 	Activity - WSDL and XML splitter 	WSDL activity can take lone time to fail configuration 
T2-847 	Activity - WSDL and XML splitter 	XML splitters don't support optional inputs - WSDL minOccurs ignored 


myExperiment perspective
------------------------
T2-1185 	Workbench - Perspectives - myExperiment 	myExperiment perspective assumes a t2flow is being uploaded 
T2-1333 	Workbench - Perspectives - myExperiment 	when myExperiment perspective loads T1 workflows from a file on a disk they appear as T2 workflows on myExperiment Web site 
T2-1377 	Workbench - Perspectives - myExperiment 	The myExperiment perspective wipes out css settings 


API changes
-----------
T2-1336 	Engine - Workflow model 	Placeholder for semantic annotation 
T2-1337 	Engine - Workflow model 	Identification chain for dataflows 




Changes in 2.1.2 (including 2.1.1)
==================================

For a complete list of issues that have been solved for 2.1.2, 
see http://tinyurl.com/t2-1-2-fixes or
http://www.mygrid.org.uk/dev/issues/secure/IssueNavigator.jspa?requestId=10154


General user interface
----------------------
Resolved a memory leak for multiple invocations of nested workflows. (T2-1135) 

Database cleanup no longer blocks shutdown, done in the background at startup
instead. (T2-1191)

"Do you want to save" dialogue now appears before database shutdown dialogue.
(T2-1189)

Pressing Enter now closes dialogue in "Add new plugin site" (T2-1150) and "Add
new WSDL/Biomart/Soaplab service" (T2-1149) 

Previous workflow runs used to parse every executed workflow at startup, which
could be slow and error-prone. Now they are parsed individually when a run
is first selected (T2-1188)  


Workflow engine
---------------
Two thread-safety issues with nested workflows were resolved (T2-1137, T2-1124)

"Save value" now saves the correct value after showing "Value too large"
warning (T2-1147) 


Workflow design
---------------
Empty dot and cross products in list handling could cause workflow execution to
fail, but are now automatically removed when editing the list handling.
(T2-1101. T2-1100)


Results
-------
"Save value" now saves the correct value after switching back to port without
reselecting value (T2-1156, T2-1147)

All renderers are now available, even if not automatically detected.
Non-detected renderers are grayed out, but still selectable. (T2-1228)

The chosen renderer is now remembered for all items on an output port. (T2-1089)

It is now possible to force a re-rendering of the result by clicking "Refresh"
(T2-1227)

The "Value too large" warning for outputs over 1 MB no longer appear more than
once when selecting the same value again. (T2-1244)


WSDL services
-------------
Support for HTTP Basic Auth support for WSDL service invocation (but not
Digest) (T2-1096)

Username/password dialogue now appears via credential manager, no longer
appears outside workbench (T2-1165) 
 
Adding a WSDL service to a workflow will pop up the security dialogue if
username/password for WSDL already exist in credential manager.  

HTTPS protected WSDLs should now work.
 

Local workers
-------------
"Get page/image from URL" now supports HTTPS and Basic/digest authentication
(T2-1198)


Beanshell scripts
-----------------
Invalid port names are no longer allowed (T2-1129)

An output port name called the same as an input name is now allowed (T2-1127)


RShell script
-------------
The R script was not always saved when clicking 'Apply' (T2-1145)


myExperiment perspective
------------------------
Non-English users now able to log in (avoiding locale-based date parsing)
(T2-1157)


Security
--------
HTTP Proxy username/password no longer lost if using File -> Open from location
(T2-1184)

HTTP Basic Auth and HTTP Digest now supported for opening workflows and "Get
page/image from URL" local worker. (T2-1225, T2-1183)

An Apple update to Java 6 on OS X change the default trust store password
(T2-1094)

Credential manager no longer pops up user interfaces when run outside the
workbench (T2-1164, T2-698)

Master password dialogue did not appear in 2.1.1 (T2-1133) 

HTTPS should now generally be supported. A confirmation dialogue will appear if
an untrusted certificate is used for the first time, and the default Java
truststore is imported on first run.


API changes
-----------
StartupSPI and ShutdownSPI positionHint flipped, now a low position means early
execution (T2-1186)

Running Taverna from workbench-dev no longer gives blank perspectives (T2-1190)

Credential Manager now exposes a single SPI CredentialProviderSPI, for
providing master password, certificate approval and username password.
Workbench implementation pops up dialogues. (T2-1193)



Changes in 2.1.0 (since 2.1 beta 2)
===================================

For a complete list of issues solved for 2.1.0, see
http://tinyurl.com/t2-1-0-fixes or
http://www.mygrid.org.uk/dev/issues/secure/IssueNavigator.jspa?reset=true&pid=10040&resolution=1&resolution=11&fixfor=10112&fixfor=10131&sorter/field=issuekey&sorter/order=DESC


General user interface
----------------------
Keyboard shortcuts: There are now keyboard shortcuts for many of the
common workflow editing and running tasks.

Recent workflows: Taverna now remembers your recently edited workflows
and you can easily open them.

Notification of updates: Users are now notified when updates to
Taverna or to a plugin are available.


Editing of workflows
--------------------
Importation of workflows: You now have the ability to merge a workflow
into a currently edited workflow.

Animated diagram: The diagram can now be made animated so it is easier
to see what changes are being made.

Diagram problems: The workflow diagram will no longer throw exceptions
and refuse to display some workflows.

Iteration strategy: The iteration strategy of services in Taverna 1
workflows is now interpreted correctly within Taverna.

Customized looping: Customized loop conditions are now displayed and
saved correctly.

Copy/cut/paste: You can copy/cut and then paste services.  This allows
you to copy services from one workflow to another or within the same
workflow.


Services
--------
Support for security: secured WSDL services can now be called using
security validated via a credential manager.

Updated R support: the R service now allows connections to an Rserve
for the latest R (up to 2.10).

New spreadsheet service: you can import Excel or csv spreadsheets and
feed the content into your workflow.

Biomoby services: The BioMoby objects are now shown in the normal
service panel and can be added to the workflow just as other services.


Running of workflows
--------------------
Improved run dialog: The dialog for entering run values now copes with
complex trees of values.

Saving and reusing values: You can now save and reuse the input values
for a workflow run.  You can save the output values from a run and
could use them as inputs for other workflow runs.

Output value display: Output values are displayed using the correct
renderers.  You are now warned if a value is large and could cause
problems for Taverna.

Output value tree: The tree of output values should now be correct.
It no longer misses some of the generated data.

Runs: You can now access the data associated with previous runs.  The
provenance and data from a run can be deleted.

Workflow completion: Taverna now correctly detects when a workflow run
has finished.

Provenance and data management: The provenance is now kept in the same
database as the values.

Improved performance: Workflow execution in 2.1 RC 1 is faster than
that in 2.1 beta 2.


myExperiment perspective
------------------------
Users can now
	- browse workflows on myExperiment
	- open a workflow from myExperiment in Taverna
	- merge a workflow from myExperiment into the current workflow
	- upload a workflow from Taverna to myExperiment
	- download a workflow from myExperiment
